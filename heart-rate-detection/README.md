# 心率检测工程
想实现的效果是：拿着摄像头对着人脸估计出人的心率是多少。

原理：是光照透过皮肤组织然后返回到光敏元件会有变化，像骨骼，肌肉，静脉和其他连接组织等对光的吸收基本不变，但血液不同，由于动脉里有血液流动，对光的吸收自然也会有所变化。得到的信号分为直流和交流，提取出交流信号就可以得到心率。

通过调研发现人额头区域心率信号是最明显的，所以基于人额头进行心率估计。

操作过程如下：

```
1.关闭相机自动曝光，自动白平衡，减少信号干扰，同时保持额头不动
2.基于人脸检测和人脸关键点模型，自动确定出额头区域并选取固定位置的50x50大小。然后类似于50x50的均值大卷积核，对额头区域求均值，作为一个信号点，一幅图片对应一个信号点，那么一个视频流就会得到一个波形。这个波形是杂乱无章的。
3.设计一个带通滤波器，对波形进行带通滤波，因为心率一般是1hz左右，所以我设置的同频带是0.8-1.2hz。滤完波之后，波形就比较平滑
4.通过小波变换中的莫来小波，分析波形的时频特性。每5s累计一次，帧率是30也就是150个点。将这150个点的频率幅值进行累计，幅值响应最强的就是5s内频率置信度最高的
```